@()<!DOCTYPE html>
<html>
  <head>
    <script src="@routes.Assets.versioned("lib/graphql/react.min.js").url"></script>
    <script src="@routes.Assets.versioned("lib/graphql/react-dom.min.js").url"></script>
    <title>GraphQL Voyager</title>
    <link rel="stylesheet" href="@routes.Assets.versioned("lib/graphql/voyager.css").url" />
    <script src="@routes.Assets.versioned("lib/graphql/voyager.min.js").url"></script>
    <style>
      .title-area, .type-doc>.doc-navigation {
        display: none;
      }
    </style>
  </head>
  <body>
    <div id="voyager">Loading...</div>
    <script>
        function introspectionProvider(introspectionQuery) {
          // This example expects a GraphQL server at the path /graphql.
          // Change this to point wherever you host your GraphQL server.
          return fetch('/admin/graphql', {
            method: 'post',
            headers: {
              'Accept': 'application/json',
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({query: introspectionQuery}),
            credentials: 'include'
          }).then(function (response) {
            return response.text();
          }).then(function (responseBody) {
            try {
              return JSON.parse(responseBody);
            } catch (error) {
              return responseBody;
            }
          });
        }

        // Render <Voyager />
        GraphQLVoyager.init(document.getElementById('voyager'), {
          introspection: introspectionProvider
        })
    </script>
  </body>
</html>
